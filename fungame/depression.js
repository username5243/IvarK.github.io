//break_break_infinity.js
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){function t(e,t,n,r){this.sign=e,this.magnitude=t,this.length=n,this.value=r}function n(){}for(var r=function(e,t,n,r){for(var i=t-1,o=0,u=10>r?r:10;++i<n;){var a=e.charCodeAt(i),s=a-48;if((0>s||s>=u)&&(s=-55+a,(10>s||s>=r)&&(s=-87+a,10>s||s>=r)))throw new RangeError;o=o*r+s}return o},i=function(e){for(var t=new Array(e),n=-1;++n<e;)t[n]=0;return t},o=function(e,t){for(var n=1,r=e,i=t;i>1;){var o=Math.floor(i/2);2*o!==i&&(n*=r),r*=r,i=o}return n*r},u=2/9007199254740992;1+u/2!==1;)u/=2;for(var a=2/u,s=134217728;2/u>s*s;)s*=2;var f=s+1,l=function(e,t,n){var r=f*e,i=r-(r-e),o=e-i,u=f*t,a=u-(u-t),s=t-a,l=i*a+n+i*s+o*a+o*s;return l},c=function(e){var t=e-a+a;return t>e?t-1:t},h=function(e,t,n){var r=t*n,i=l(t,n,-r),o=c(r/a),u=r-o*a+i;return 0>u&&(u+=a,o-=1),u+=e-a,0>u?u+=a:o+=1,{lo:u,hi:o}},m=function(e,t,n){if(e>=n)throw new RangeError;var r=e*a,i=c(r/n),o=0-l(i,n,-r);0>o&&(i-=1,o+=n),o+=t-n,0>o?o+=n:i+=1;var u=c(o/n);return o-=u*n,i+=u,{q:i,r:o}},v=function(e,n,r,i){return new t(e,n,r,i)};t.parseInt=function(e,t){if(void 0==t&&(t=10),10!==t&&(2>t||t>36||t!==Math.floor(t)))throw new RangeError("radix argument must be an integer between 2 and 36");var n=e.length;if(0===n)throw new RangeError;var u=0,s=e.charCodeAt(0),f=0;if(43===s&&(f=1),45===s&&(f=1,u=1),n-=f,0===n)throw new RangeError;if(o(t,n)<=a){var l=r(e,f,f+n,t);return v(0===l?0:u,void 0,0===l?0:1,l)}for(var m=0,p=1,g=c(a/t);g>=p;)m+=1,p*=t;for(var d=Math.floor((n-1)/m)+1,y=i(d),k=d,x=n;x>0;)k-=1,y[k]=r(e,f+(x>m?x-m:0),f+x,t),x-=m;for(var N=-1;++N<d;){for(var b=y[N],w=-1;++w<N;){var V=h(b,y[w],p),E=V.lo,I=V.hi;y[w]=E,b=I}y[N]=b}for(;d>0&&0===y[d-1];)d-=1;return v(0===d?0:u,y,d,y[0])};var p=function(e,t){if(e.length!==t.length)return e.length<t.length?-1:1;for(var n=e.length;--n>=0;)if((void 0==e.magnitude?e.value:e.magnitude[n])!==(void 0==t.magnitude?t.value:t.magnitude[n]))return(void 0==e.magnitude?e.value:e.magnitude[n])<(void 0==t.magnitude?t.value:t.magnitude[n])?-1:1;return 0};t.prototype.compareTo=function(e){var t=this,n=t.sign===e.sign?p(t,e):1;return 1===t.sign?0-n:n},t.prototype.addAndSubtract=function(e,t){var n=this,r=p(n,e),o=0>r?0!==t?1-e.sign:e.sign:n.sign,u=0>r?n:e,s=0>r?e:n;if(0===u.length)return v(o,s.magnitude,s.length,s.value);var f=0,l=s.length;if(n.sign!==(0!==t?1-e.sign:e.sign)){if(f=1,u.length===l)for(;l>0&&(void 0==u.magnitude?u.value:u.magnitude[l-1])===(void 0==s.magnitude?s.value:s.magnitude[l-1]);)l-=1;if(0===l)return v(0,i(0),0,0)}for(var c=i(l+(1-f)),h=-1,m=0;++h<l;){var g=h<u.length?void 0==u.magnitude?u.value:u.magnitude[h]:0;m+=(void 0==s.magnitude?s.value:s.magnitude[h])+(0!==f?0-g:g-a),0>m?(c[h]=a+m,m=0-f):(c[h]=m,m=1-f)}for(0!==m&&(c[l]=m,l+=1);l>0&&0===c[l-1];)l-=1;return v(o,c,l,c[0])},t.prototype.add=function(e){return this.addAndSubtract(e,0)},t.prototype.subtract=function(e){return this.addAndSubtract(e,1)},t.prototype.multiply=function(e){var t=this;if(0===t.length||0===e.length)return v(0,i(0),0,0);var n=1===t.sign?1-e.sign:e.sign;if(1===t.length&&1===(void 0==t.magnitude?t.value:t.magnitude[0]))return v(n,e.magnitude,e.length,e.value);if(1===e.length&&1===(void 0==e.magnitude?e.value:e.magnitude[0]))return v(n,t.magnitude,t.length,t.value);for(var r=t.length+e.length,o=i(r),u=-1;++u<e.length;){for(var s=0,f=-1;++f<t.length;){var l=0;s+=o[f+u]-a,s>=0?l=1:s+=a;var c=h(s,void 0==t.magnitude?t.value:t.magnitude[f],void 0==e.magnitude?e.value:e.magnitude[u]),m=c.lo,p=c.hi;o[f+u]=m,s=p+l}o[t.length+u]=s}for(;r>0&&0===o[r-1];)r-=1;return v(n,o,r,o[0])},t.prototype.divideAndRemainder=function(e,t){var n=this;if(0===e.length)throw new RangeError;if(0===n.length)return v(0,i(0),0,0);var r=1===n.sign?1-e.sign:e.sign;if(1===e.length&&1===(void 0==e.magnitude?e.value:e.magnitude[0]))return 0!==t?v(r,n.magnitude,n.length,n.value):v(0,i(0),0,0);for(var o=n.length+1,u=i(o+e.length+1),s=u,f=u,l=-1;++l<n.length;)f[l]=void 0==n.magnitude?n.value:n.magnitude[l];for(var p=-1;++p<e.length;)s[o+p]=void 0==e.magnitude?e.value:e.magnitude[p];var g=s[o+e.length-1],d=1;if(e.length>1){if(d=c(a/(g+1)),d>1){for(var y=0,k=-1;++k<o+e.length;){var x=h(y,u[k],d),N=x.lo,b=x.hi;u[k]=N,y=b}u[o+e.length]=y,g=s[o+e.length-1]}if(g<c(a/2))throw new RangeError}var w=n.length-e.length+1;0>w&&(w=0);for(var V=void 0,E=0,I=w;--I>=0;){var M=e.length+I,_=a-1;if(f[M]!==g){var T=m(f[M],f[M-1],g),q=T.q;_=q}for(var S=0,F=0,O=I-1;++O<=M;){var D=f[O],B=h(F,_,s[o+O-I]),R=B.lo,A=B.hi;f[O]=R,F=A,S+=D-f[O],0>S?(f[O]=a+S,S=-1):(f[O]=S,S=0)}for(;0!==S;){_-=1;for(var P=0,C=I-1;++C<=M;)P+=f[C]-a+s[o+C-I],0>P?(f[C]=a+P,P=0):(f[C]=P,P=1);S+=P}0!==t&&0!==_&&(0===E&&(E=I+1,V=i(E)),V[I]=_)}if(0!==t)return 0===E?v(0,i(0),0,0):v(r,V,E,V[0]);var L=n.length+1;if(d>1){for(var H=0,U=L;--U>=0;){var z=m(H,f[U],d),Z=z.q,G=z.r;f[U]=Z,H=G}if(0!==H)throw new RangeError}for(;L>0&&0===f[L-1];)L-=1;if(0===L)return v(0,i(0),0,0);for(var W=i(L),Y=-1;++Y<L;)W[Y]=f[Y];return v(n.sign,W,L,W[0])},t.prototype.divide=function(e){return this.divideAndRemainder(e,1)},t.prototype.remainder=function(e){return this.divideAndRemainder(e,0)},t.prototype.negate=function(){var e=this;return v(0===e.length?e.sign:1-e.sign,e.magnitude,e.length,e.value)},t.prototype.toString=function(e){if(void 0==e&&(e=10),10!==e&&(2>e||e>36||e!==Math.floor(e)))throw new RangeError("radix argument must be an integer between 2 and 36");var t=this,n=1===t.sign?"-":"",r=t.length;if(0===r)return"0";if(1===r)return n+=(void 0==t.magnitude?t.value:t.magnitude[0]).toString(e);for(var o=0,u=1,s=c(a/e);s>=u;)o+=1,u*=e;if(a>=u*e)throw new RangeError;for(var f=r+Math.floor((r-1)/o)+1,l=i(f),h=-1;++h<r;)l[h]=void 0==t.magnitude?t.value:t.magnitude[h];for(var v=f;0!==r;){for(var p=0,g=r;--g>=0;){var d=m(p,l[g],u),y=d.q,k=d.r;l[g]=y,p=k}for(;r>0&&0===l[r-1];)r-=1;v-=1,l[v]=p}for(n+=l[v].toString(e);++v<f;){for(var x=l[v].toString(e),N=o-x.length;--N>=0;)n+="0";n+=x}return n},t.fromNumber=function(e){return v(0>e?1:0,void 0,0===e?0:1,0>e?0-e:0+e)},t.prototype.toNumber=function(){return 0===this.length?0:1===this.length?1===this.sign?0-this.value:this.value:this};var g=function(e,n){try{}catch(r){}return t.parseInt(e,n)},d=function(e){return"number"==typeof e?t.fromNumber(e):e},y=function(e,t){try{}catch(n){}var r=d(e),i=d(t);return r.compareTo(i)},k=function(e){return e.toNumber()},x=function(e,t){try{}catch(n){}var r=d(e),i=d(t);return k(r.add(i))},N=function(e,t){try{}catch(n){}var r=d(e),i=d(t);return k(r.subtract(i))},b=function(e,t){try{}catch(n){}var r=d(e),i=d(t);return k(r.multiply(i))},w=function(e,t){try{}catch(n){}var r=d(e),i=d(t);return k(r.divide(i))},V=function(e,t){try{}catch(n){}var r=d(e),i=d(t);return k(r.remainder(i))},E=function(e){try{}catch(t){}var n=d(e);return k(n.negate())};n.parseInt=function(e,t){if("string"==typeof e&&"number"==typeof t){var n=0+Number.parseInt(e,t);if(n>=-9007199254740991&&9007199254740991>=n)return n}return g(e,t)},n.compareTo=function(e,t){return"number"==typeof e&&"number"==typeof t?t>e?-1:e>t?1:0:y(e,t)},n.add=function(e,t){if("number"==typeof e&&"number"==typeof t){var n=e+t;if(n>=-9007199254740991&&9007199254740991>=n)return n}return x(e,t)},n.subtract=function(e,t){if("number"==typeof e&&"number"==typeof t){var n=e-t;if(n>=-9007199254740991&&9007199254740991>=n)return n}return N(e,t)},n.multiply=function(e,t){if("number"==typeof e&&"number"==typeof t){var n=0+e*t;if(n>=-9007199254740991&&9007199254740991>=n)return n}return b(e,t)},n.divide=function(e,t){return"number"==typeof e&&"number"==typeof t&&0!==t?0===e?0:e>0&&t>0||0>e&&0>t?0+Math.floor(e/t):0-Math.floor((0-e)/t):w(e,t)},n.remainder=function(e,t){return"number"==typeof e&&"number"==typeof t&&0!==t?0+e%t:V(e,t)},n.negate=function(e){return"number"==typeof e?0-e:E(e)},e.BigInteger=n,e.BigIntegerInternal=t}(this),!function(e){function t(e){var t,n,r,i=e.length-1,o="",u=e[0];if(i>0){for(o+=u,t=1;i>t;t++)r=e[t]+"",n=R-r.length,n&&(o+=a(n)),o+=r;u=e[t],r=u+"",n=R-r.length,n&&(o+=a(n))}else if(0===u)return"0";for(;u%10===0;)u/=10;return o+u}function n(e,t,n){if(e!==~~e||t>e||e>n)throw Error(q+e)}function r(e,t,n,r){var i,o,u,a,s,f,l,c,h,m=e.constructor;e:if(null!=t){if(c=e.d,!c)return e;for(i=1,a=c[0];a>=10;a/=10)i++;if(o=t-i,0>o)o+=R,u=t,l=c[h=0],s=l/O(10,i-u-1)%10|0;else if(h=Math.ceil((o+1)/R),a=c.length,h>=a){if(!r)break e;for(;a++<=h;)c.push(0);l=s=0,i=1,o%=R,u=o-R+1}else{for(l=a=c[h],i=1;a>=10;a/=10)i++;o%=R,u=o-R+i,s=0>u?0:l/O(10,i-u-1)%10|0}if(r=r||0>t||void 0!==c[h+1]||(0>u?l:l%O(10,i-u-1)),f=4>n?(s||r)&&(0==n||n==(e.s<0?3:2)):s>5||5==s&&(4==n||r||6==n&&(o>0?u>0?l/O(10,i-u):0:c[h-1])%10&1||n==(e.s<0?8:7)),1>t||!c[0])return c.length=0,f?(t-=e.e+1,c[0]=O(10,(R-t%R)%R),e.e=-t||0):c[0]=e.e=0,e;if(0==o?(c.length=h,a=1,h--):(c.length=h+1,a=O(10,R-o),c[h]=u>0?(l/O(10,i-u)%O(10,u)|0)*a:0),f)for(;;){if(0==h){for(o=1,u=c[0];u>=10;u/=10)o++;for(u=c[0]+=a,a=1;u>=10;u/=10)a++;o!=a&&(e.e++,c[0]==B&&(c[0]=1));break}if(c[h]+=a,c[h]!=B)break;c[h--]=0,a=1}for(o=c.length;0===c[--o];)c.pop()}return _&&(e.e>m.maxE?(e.d=null,e.e=NaN):e.e<m.minE&&(e.e=0,e.d=[0])),e}function i(e,n,r){if(!e.isFinite())return s(e);var i,o=e.e,u=t(e.d),f=u.length;return n?(r&&(i=r-f)>0?u=u.charAt(0)+"."+u.slice(1)+a(i):f>1&&(u=u.charAt(0)+"."+u.slice(1)),u=u+(e.e<0?"e":"e+")+e.e):0>o?(u="0."+a(-o-1)+u,r&&(i=r-f)>0&&(u+=a(i))):o>=f?(u+=a(o+1-f),r&&(i=r-o-1)>0&&(u=u+"."+a(i))):((i=o+1)<f&&(u=u.slice(0,i)+"."+u.slice(i)),r&&(i=r-f)>0&&(o+1===f&&(u+="."),u+=a(i))),u}function o(e,t){var n=e[0];for(t*=R;n>=10;n/=10)t++;return t}function u(e){var t=e.length-1,n=t*R+1;if(t=e[t]){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function a(e){for(var t="";e--;)t+="0";return t}function s(e){return String(e.s*e.s/0)}function f(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(0>n&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):0>n&&(n=t.length),r=0;48===t.charCodeAt(r);r++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(r,i)){if(i-=r,e.e=n=n-r-1,e.d=[],r=(n+1)%R,0>n&&(r+=R),i>r){for(r&&e.d.push(+t.slice(0,r)),i-=R;i>r;)e.d.push(+t.slice(r,r+=R));t=t.slice(r),r=R-t.length}else r-=i;for(;r--;)t+="0";e.d.push(+t),_&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function l(e){return new this(e).abs()}function c(e,t){return new this(e).plus(t)}function h(e){return r(e=new this(e),e.e+1,2)}function m(e){if(!e||"object"!=("undefined"==typeof e?"undefined":_typeof(e)))throw Error(T+"Object expected");var t,n,r,i=["precision",1,E,"rounding",0,8,"toExpNeg",-V,0,"toExpPos",0,V,"maxE",0,V,"minE",-V,0,"modulo",0,9];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(F(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(q+n+": "+r);this[n]=r}if(void 0!==(r=e[n="crypto"])){if(r!==!0&&r!==!1&&0!==r&&1!==r)throw Error(q+n+": "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(S);this[n]=!0}else this[n]=!1}return this}function v(e){function t(e){var n,r,i,o=this;if(!(o instanceof t))return new t(e);if(o.constructor=t,e instanceof t)return o.s=e.s,o.e=e.e,void(o.d=(e=e.d)?e.slice():e);if(i="undefined"==typeof e?"undefined":_typeof(e),"number"===i){if(0===e)return o.s=0>1/e?-1:1,o.e=0,void(o.d=[0]);if(0>e?(e=-e,o.s=-1):o.s=1,e===~~e&&1e7>e){for(n=0,r=e;r>=10;r/=10)n++;return o.e=n,void(o.d=[e])}return 0*e!==0?(e||(o.s=NaN),o.e=NaN,void(o.d=null)):f(o,e.toString())}if("string"!==i)throw Error(q+e);return 45===e.charCodeAt(0)?(e=e.slice(1),o.s=-1):o.s=1,D.test(e)?f(o,e):parseOther(o,e)}var n,r,i;if(t.prototype=A,t.ROUND_UP=0,t.ROUND_DOWN=1,t.ROUND_CEIL=2,t.ROUND_FLOOR=3,t.ROUND_HALF_UP=4,t.ROUND_HALF_DOWN=5,t.ROUND_HALF_EVEN=6,t.ROUND_HALF_CEIL=7,t.ROUND_HALF_FLOOR=8,t.EUCLID=9,t.config=t.set=m,t.clone=v,t.abs=l,t.add=c,t.ceil=h,t.div=p,t.floor=g,t.mul=d,t.round=y,t.sign=k,t.sub=x,t.trunc=N,void 0===e&&(e={}),e)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<i.length;)e.hasOwnProperty(r=i[n++])||(e[r]=this[r]);return t.config(e),t}function p(e,t){return new this(e).div(t)}function g(e){return r(e=new this(e),e.e+1,3)}function d(e,t){return new this(e).mul(t)}function y(e){return r(e=new this(e),e.e+1,this.rounding)}function k(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function x(e,t){return new this(e).sub(t)}function N(e){return r(e=new this(e),e.e+1,1)}var b,w,V=9e15,E=1e9,I="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",M={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-V,maxE:V,crypto:!1},_=!0,T="[DecimalError] ",q=T+"Invalid argument: ",S=T+"crypto unavailable",F=Math.floor,O=Math.pow,D=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,B=1e7,R=7,A=(I.length-1,{});A.absoluteValue=A.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),r(e)},A.ceil=function(){return r(new this.constructor(this),this.e+1,2)},A.comparedTo=A.cmp=function(e){var t,n,r,i,o=this,u=o.d,a=(e=new o.constructor(e)).d,s=o.s,f=e.s;if(!u||!a)return s&&f?s!==f?s:u===a?0:!u^0>s?1:-1:NaN;if(!u[0]||!a[0])return u[0]?s:a[0]?-f:0;if(s!==f)return s;if(o.e!==e.e)return o.e>e.e^0>s?1:-1;for(r=u.length,i=a.length,t=0,n=i>r?r:i;n>t;++t)if(u[t]!==a[t])return u[t]>a[t]^0>s?1:-1;return r===i?0:r>i^0>s?1:-1},A.dividedBy=A.div=function(e){return P(this,new this.constructor(e))},A.dividedToIntegerBy=A.divToInt=function(e){var t=this,n=t.constructor;return r(P(t,new n(e),0,1,1),n.precision,n.rounding)},A.equals=A.eq=function(e){return 0===this.cmp(e)},A.floor=function(){return r(new this.constructor(this),this.e+1,3)},A.greaterThan=A.gt=function(e){return this.cmp(e)>0},A.greaterThanOrEqualTo=A.gte=function(e){var t=this.cmp(e);return 1==t||0===t},A.isFinite=function(){return!!this.d},A.isInteger=A.isInt=function(){return!!this.d&&F(this.e/R)>this.d.length-2},A.isNaN=function(){return!this.s},A.isNegative=A.isNeg=function(){return this.s<0},A.isPositive=A.isPos=function(){return this.s>0},A.isZero=function(){return!!this.d&&0===this.d[0]},A.lessThan=A.lt=function(e){return this.cmp(e)<0},A.lessThanOrEqualTo=A.lte=function(e){return this.cmp(e)<1},A.minus=A.sub=function(e){var t,n,i,u,a,s,f,l,c,h,m,v,p=this,g=p.constructor;if(e=new g(e),!p.d||!e.d)return p.s&&e.s?p.d?e.s=-e.s:e=new g(e.d||p.s!==e.s?p:NaN):e=new g(NaN),e;if(p.s!=e.s)return e.s=-e.s,p.plus(e);if(c=p.d,v=e.d,f=g.precision,l=g.rounding,!c[0]||!v[0]){if(v[0])e.s=-e.s;else{if(!c[0])return new g(3===l?-0:0);e=new g(p)}return _?r(e,f,l):e}if(n=F(e.e/R),h=F(p.e/R),c=c.slice(),a=h-n){for(m=0>a,m?(t=c,a=-a,s=v.length):(t=v,n=h,s=c.length),i=Math.max(Math.ceil(f/R),s)+2,a>i&&(a=i,t.length=1),t.reverse(),i=a;i--;)t.push(0);t.reverse()}else{for(i=c.length,s=v.length,m=s>i,m&&(s=i),i=0;s>i;i++)if(c[i]!=v[i]){m=c[i]<v[i];break}a=0}for(m&&(t=c,c=v,v=t,e.s=-e.s),s=c.length,i=v.length-s;i>0;--i)c[s++]=0;for(i=v.length;i>a;){if(c[--i]<v[i]){for(u=i;u&&0===c[--u];)c[u]=B-1;--c[u],c[i]+=B}c[i]-=v[i]}for(;0===c[--s];)c.pop();for(;0===c[0];c.shift())--n;return c[0]?(e.d=c,e.e=o(c,n),_?r(e,f,l):e):new g(3===l?-0:0)},A.negated=A.neg=function(){var e=new this.constructor(this);return e.s=-e.s,r(e)},A.plus=A.add=function(e){var t,n,i,u,a,s,f,l,c,h,m=this,v=m.constructor;if(e=new v(e),!m.d||!e.d)return m.s&&e.s?m.d||(e=new v(e.d||m.s===e.s?m:NaN)):e=new v(NaN),e;if(m.s!=e.s)return e.s=-e.s,m.minus(e);if(c=m.d,h=e.d,f=v.precision,l=v.rounding,!c[0]||!h[0])return h[0]||(e=new v(m)),_?r(e,f,l):e;if(a=F(m.e/R),i=F(e.e/R),c=c.slice(),u=a-i){for(0>u?(n=c,u=-u,s=h.length):(n=h,i=a,s=c.length),a=Math.ceil(f/R),s=a>s?a+1:s+1,u>s&&(u=s,n.length=1),n.reverse();u--;)n.push(0);n.reverse()}for(s=c.length,u=h.length,0>s-u&&(u=s,n=h,h=c,c=n),t=0;u;)t=(c[--u]=c[u]+h[u]+t)/B|0,c[u]%=B;for(t&&(c.unshift(t),++i),s=c.length;0==c[--s];)c.pop();return e.d=c,e.e=o(c,i),_?r(e,f,l):e},A.precision=A.sd=function(e){var t,n=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(q+e);return n.d?(t=u(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t},A.round=function(){var e=this,t=e.constructor;return r(new t(e),e.e+1,t.rounding)},A.times=A.mul=function(e){var t,n,i,u,a,s,f,l,c,h=this,m=h.constructor,v=h.d,p=(e=new m(e)).d;if(e.s*=h.s,!(v&&v[0]&&p&&p[0]))return new m(!e.s||v&&!v[0]&&!p||p&&!p[0]&&!v?NaN:v&&p?0*e.s:e.s/0);for(n=F(h.e/R)+F(e.e/R),l=v.length,c=p.length,c>l&&(a=v,v=p,p=a,s=l,l=c,c=s),a=[],s=l+c,i=s;i--;)a.push(0);for(i=c;--i>=0;){for(t=0,u=l+i;u>i;)f=a[u]+p[i]*v[u-i-1]+t,a[u--]=f%B|0,t=f/B|0;a[u]=(a[u]+t)%B|0}for(;!a[--s];)a.pop();return t?++n:a.shift(),e.d=a,e.e=o(a,n),_?r(e,m.precision,m.rounding):e},A.toDecimalPlaces=A.toDP=function(e,t){var i=this,o=i.constructor;return i=new o(i),void 0===e?i:(n(e,0,E),void 0===t?t=o.rounding:n(t,0,8),r(i,e+i.e+1,t))},A.toExponential=function(e,t){var o,u=this,a=u.constructor;return void 0===e?o=i(u,!0):(n(e,0,E),void 0===t?t=a.rounding:n(t,0,8),u=r(new a(u),e+1,t),o=i(u,!0,e+1)),u.isNeg()&&!u.isZero()?"-"+o:o},A.toFixed=function(e,t){var o,u,a=this,s=a.constructor;return void 0===e?o=i(a):(n(e,0,E),void 0===t?t=s.rounding:n(t,0,8),u=r(new s(a),e+a.e+1,t),o=i(u,!1,e+u.e+1)),a.isNeg()&&!a.isZero()?"-"+o:o},A.toNearest=function(e,t){var i=this,o=i.constructor;if(i=new o(i),null==e){if(!i.d)return i;e=new o(1),t=o.rounding}else{if(e=new o(e),void 0!==t&&n(t,0,8),!i.d)return e.s?i:e;if(!e.d)return e.s&&(e.s=i.s),e}return e.d[0]?(_=!1,4>t&&(t=[4,5,7,8][t]),i=P(i,e,0,t,1).times(e),_=!0,r(i)):(e.s=i.s,i=e),i},A.toNumber=function(){return+this},A.toPrecision=function(e,t){var o,u=this,a=u.constructor;return void 0===e?o=i(u,u.e<=a.toExpNeg||u.e>=a.toExpPos):(n(e,1,E),void 0===t?t=a.rounding:n(t,0,8),u=r(new a(u),e,t),o=i(u,e<=u.e||u.e<=a.toExpNeg,e)),u.isNeg()&&!u.isZero()?"-"+o:o},A.toSignificantDigits=A.toSD=function(e,t){var i=this,o=i.constructor;return void 0===e?(e=o.precision,t=o.rounding):(n(e,1,E),void 0===t?t=o.rounding:n(t,0,8)),r(new o(i),e,t)},A.toString=function(){var e=this,t=e.constructor,n=i(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n},A.truncated=A.trunc=function(){return r(new this.constructor(this),this.e+1,1)},A.valueOf=A.toJSON=function(){var e=this,t=e.constructor,n=i(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};var P=function(){function e(e,t,n){var r,i=0,o=e.length;for(e=e.slice();o--;)r=e[o]*t+i,e[o]=r%n|0,i=r/n|0;return i&&e.unshift(i),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;n>i;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(i,o,u,a,s,f){var l,c,h,m,v,p,g,d,y,k,x,N,w,V,E,I,M,_,T,q,S=i.constructor,O=i.s==o.s?1:-1,D=i.d,A=o.d;if(!(D&&D[0]&&A&&A[0]))return new S(i.s&&o.s&&(D?!A||D[0]!=A[0]:A)?D&&0==D[0]||!A?0*O:O/0:NaN);for(f?(v=1,c=i.e-o.e):(f=B,v=R,c=F(i.e/v)-F(o.e/v)),T=A.length,M=D.length,y=new S(O),k=y.d=[],h=0;A[h]==(D[h]||0);h++);if(A[h]>(D[h]||0)&&c--,null==u?(V=u=S.precision,a=S.rounding):V=s?u+(i.e-o.e)+1:u,0>V)k.push(1),p=!0;else{if(V=V/v+2|0,h=0,1==T){for(m=0,A=A[0],V++;(M>h||m)&&V--;h++)E=m*f+(D[h]||0),k[h]=E/A|0,m=E%A|0;p=m||M>h}else{for(m=f/(A[0]+1)|0,m>1&&(A=e(A,m,f),D=e(D,m,f),T=A.length,M=D.length),I=T,x=D.slice(0,T),N=x.length;T>N;)x[N++]=0;q=A.slice(),q.unshift(0),_=A[0],A[1]>=f/2&&++_;do m=0,l=t(A,x,T,N),0>l?(w=x[0],T!=N&&(w=w*f+(x[1]||0)),m=w/_|0,m>1?(m>=f&&(m=f-1),g=e(A,m,f),d=g.length,N=x.length,l=t(g,x,d,N),1==l&&(m--,n(g,d>T?q:A,d,f))):(0==m&&(l=m=1),g=A.slice()),d=g.length,N>d&&g.unshift(0),n(x,g,N,f),-1==l&&(N=x.length,l=t(A,x,T,N),1>l&&(m++,n(x,N>T?q:A,N,f))),N=x.length):0===l&&(m++,x=[0]),k[h++]=m,l&&x[0]?x[N++]=D[I]||0:(x=[D[I]],N=1);while((I++<M||void 0!==x[0])&&V--);p=void 0!==x[0]}k[0]||k.shift()}if(1==v)y.e=c,b=p;else{for(h=1,m=k[0];m>=10;m/=10)h++;y.e=h+c*v-1,r(y,s?u+y.e+1:u,a,p)}return y}}();M=v(M),M["default"]=M.ExpHelper=M,I=new M(I),M.LN10=I,"function"==typeof define&&define.amd?define(function(){return M}):"undefined"!=typeof module&&module.exports?module.exports=M:(e||(e="undefined"!=typeof self&&self&&self.self==self?self:Function("return this")()),w=e.ExpHelper,M.noConflict=function(){return e.ExpHelper=w,M},e.ExpHelper=M)}(void 0),function(e){var t=17,n=-324,r=BigInteger.parseInt("0"),i=BigInteger.parseInt("1"),o=BigInteger.parseInt("308"),u=BigInteger.parseInt("-324"),a=BigInteger.parseInt("179769".padEnd(309,"0")),s=a.negate(),f=BigInteger.parseInt("17"),l=[1e-323,1e-322,1e-321,1e-320,1e-319,1e-318,1e-317,1e-316,1e-315,1e-314,1e-313,1e-312,1e-311,1e-310,1e-309,1e-308,1e-307,1e-306,1e-305,1e-304,1e-303,1e-302,1e-301,1e-300,1e-299,1e-298,1e-297,1e-296,1e-295,1e-294,1e-293,1e-292,1e-291,1e-290,1e-289,1e-288,1e-287,1e-286,1e-285,1e-284,1e-283,1e-282,1e-281,1e-280,1e-279,1e-278,1e-277,1e-276,1e-275,1e-274,1e-273,1e-272,1e-271,1e-270,1e-269,1e-268,1e-267,1e-266,1e-265,1e-264,1e-263,1e-262,1e-261,1e-260,1e-259,1e-258,1e-257,1e-256,1e-255,1e-254,1e-253,1e-252,1e-251,1e-250,1e-249,1e-248,1e-247,1e-246,1e-245,1e-244,1e-243,1e-242,1e-241,1e-240,1e-239,1e-238,1e-237,1e-236,1e-235,1e-234,1e-233,1e-232,1e-231,1e-230,1e-229,1e-228,1e-227,1e-226,1e-225,1e-224,1e-223,1e-222,1e-221,1e-220,1e-219,1e-218,1e-217,1e-216,1e-215,1e-214,1e-213,1e-212,1e-211,1e-210,1e-209,1e-208,1e-207,1e-206,1e-205,1e-204,1e-203,1e-202,1e-201,1e-200,1e-199,1e-198,1e-197,1e-196,1e-195,1e-194,1e-193,1e-192,1e-191,1e-190,1e-189,1e-188,1e-187,1e-186,1e-185,1e-184,1e-183,1e-182,1e-181,1e-180,1e-179,1e-178,1e-177,1e-176,1e-175,1e-174,1e-173,1e-172,1e-171,1e-170,1e-169,1e-168,1e-167,1e-166,1e-165,1e-164,1e-163,1e-162,1e-161,1e-160,1e-159,1e-158,1e-157,1e-156,1e-155,1e-154,1e-153,1e-152,1e-151,1e-150,1e-149,1e-148,1e-147,1e-146,1e-145,1e-144,1e-143,1e-142,1e-141,1e-140,1e-139,1e-138,1e-137,1e-136,1e-135,1e-134,1e-133,1e-132,1e-131,1e-130,1e-129,1e-128,1e-127,1e-126,1e-125,1e-124,1e-123,1e-122,1e-121,1e-120,1e-119,1e-118,1e-117,1e-116,1e-115,1e-114,1e-113,1e-112,1e-111,1e-110,1e-109,1e-108,1e-107,1e-106,1e-105,1e-104,1e-103,1e-102,1e-101,1e-100,1e-99,1e-98,1e-97,1e-96,1e-95,1e-94,1e-93,1e-92,1e-91,1e-90,1e-89,1e-88,1e-87,1e-86,1e-85,1e-84,1e-83,1e-82,1e-81,1e-80,1e-79,1e-78,1e-77,1e-76,1e-75,1e-74,1e-73,1e-72,1e-71,1e-70,1e-69,1e-68,1e-67,1e-66,1e-65,1e-64,1e-63,1e-62,1e-61,1e-60,1e-59,1e-58,1e-57,1e-56,1e-55,1e-54,1e-53,1e-52,1e-51,1e-50,1e-49,1e-48,1e-47,1e-46,1e-45,1e-44,1e-43,1e-42,1e-41,1e-40,1e-39,1e-38,1e-37,1e-36,1e-35,1e-34,1e-33,1e-32,1e-31,1e-30,1e-29,1e-28,1e-27,1e-26,1e-25,1e-24,1e-23,1e-22,1e-21,1e-20,1e-19,1e-18,1e-17,1e-16,1e-15,1e-14,1e-13,1e-12,1e-11,1e-10,1e-9,1e-8,1e-7,1e-6,1e-5,1e-4,.001,.01,.1,1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13,1e14,1e15,1e16,1e17,1e18,1e19,1e20,1e21,1e22,1e23,1e24,1e25,1e26,1e27,1e28,1e29,1e30,1e31,1e32,1e33,1e34,1e35,1e36,1e37,1e38,1e39,1e40,1e41,1e42,1e43,1e44,1e45,1e46,1e47,1e48,1e49,1e50,1e51,1e52,1e53,1e54,1e55,1e56,1e57,1e58,1e59,1e60,1e61,1e62,1e63,1e64,1e65,1e66,1e67,1e68,1e69,1e70,1e71,1e72,1e73,1e74,1e75,1e76,1e77,1e78,1e79,1e80,1e81,1e82,1e83,1e84,1e85,1e86,1e87,1e88,1e89,1e90,1e91,1e92,1e93,1e94,1e95,1e96,1e97,1e98,1e99,1e100,1e101,1e102,1e103,1e104,1e105,1e106,1e107,1e108,1e109,1e110,1e111,1e112,1e113,1e114,1e115,1e116,1e117,1e118,1e119,1e120,1e121,1e122,1e123,1e124,1e125,1e126,1e127,1e128,1e129,1e130,1e131,1e132,1e133,1e134,1e135,1e136,1e137,1e138,1e139,1e140,1e141,1e142,1e143,1e144,1e145,1e146,1e147,1e148,1e149,1e150,1e151,1e152,1e153,1e154,1e155,1e156,1e157,1e158,1e159,1e160,1e161,1e162,1e163,1e164,1e165,1e166,1e167,1e168,1e169,1e170,1e171,1e172,1e173,1e174,1e175,1e176,1e177,1e178,1e179,1e180,1e181,1e182,1e183,1e184,1e185,1e186,1e187,1e188,1e189,1e190,1e191,1e192,1e193,1e194,1e195,1e196,1e197,1e198,1e199,1e200,1e201,1e202,1e203,1e204,1e205,1e206,1e207,1e208,1e209,1e210,1e211,1e212,1e213,1e214,1e215,1e216,1e217,1e218,1e219,1e220,1e221,1e222,1e223,1e224,1e225,1e226,1e227,1e228,1e229,1e230,1e231,1e232,1e233,1e234,1e235,1e236,1e237,1e238,1e239,1e240,1e241,1e242,1e243,1e244,1e245,1e246,1e247,1e248,1e249,1e250,1e251,1e252,1e253,1e254,1e255,1e256,1e257,1e258,1e259,1e260,1e261,1e262,1e263,1e264,1e265,1e266,1e267,1e268,1e269,1e270,1e271,1e272,1e273,1e274,1e275,1e276,1e277,1e278,1e279,1e280,1e281,1e282,1e283,1e284,1e285,1e286,1e287,1e288,1e289,1e290,1e291,1e292,1e293,1e294,1e295,1e296,1e297,1e298,1e299,1e300,1e301,1e302,1e303,1e304,1e305,1e306,1e307,1e308],c=323,h=function(){function e(t){_classCallCheck(this,e),t instanceof e?this.fromDecimal(t):"number"==typeof t?this.fromNumber(t):"string"==typeof t?this.fromString(t):(this.mantissa=0,this.exponent=0)}return _createClass(e,[{key:"normalize",value:function(){if(0==this.mantissa)return this.mantissa=0,void(this.exponent=r);if(!(this.mantissa>=1&&this.mantissa<10||Number.isNaN(this.mantissa)||Number.isNaN(this.exponent))){var t=Math.floor(Math.log10(Math.abs(this.mantissa)));return this.mantissa=this.mantissa/l[t+c],this.exponent=this.exponent.add(e.toBigInteger(t)),this}}},{key:"fromMantissaExponent",value:function(t,n){return Number.isFinite(t)||(t=Number.NaN,n=a),this.mantissa=t,this.exponent=e.toBigInteger(n),this.normalize(),this}},{key:"fromMantissaExponent_noNormalize",value:function(t,n){return this.mantissa=t,this.exponent=e.toBigInteger(n),this}},{key:"fromDecimal",value:function(e){return this.mantissa=e.mantissa,this.exponent=e.exponent,this}},{key:"fromNumber",value:function(t){if(Number.isNaN(t))this.mantissa=Number.NaN,this.exponent=a;else if(t==Number.POSITIVE_INFINITY)this.mantissa=1,this.exponent=a;else if(t==Number.NEGATIVE_INFINITY)this.mantissa=-1,this.exponent=a;else if(0==t)this.mantissa=0,this.exponent=r;else{var i=Math.floor(Math.log10(Math.abs(t)));this.exponent=e.toBigInteger(i),i==n?this.mantissa=10*t/1e-323:this.mantissa=t/l[i+c],this.normalize()}return this}},{key:"fromString",value:function(t){if(-1!=t.indexOf("e")){t=t.replace("(","").replace(")","");var n=(t.indexOf("e"),[t.substring(0,indexOfE),t.substring(indexOfE+1)]);return this.mantissa=parseFloat(n[0]),this.exponent=e.toBigInteger(parseFloat(n[1])),this.normalize(),this}return this.fromNumber(parseFloat(t))}},{key:"fromValue",value:function(t){return t instanceof e?this.fromDecimal(t):"number"==typeof t?this.fromNumber(t):"string"==typeof t?this.fromString(t):(this.mantissa=0,this.exponent=0,this)}}],[{key:"toBigInteger",value:function(t){return t instanceof e?BigInteger.parseInt(t.round().toFixed()):"number"==typeof t?BigInteger.parseInt(new e(t).round().toFixed()):"string"==typeof t?BigInteger.parseInt(t):t instanceof BigIntegerInternal?t:r}}]),_createClass(e,[{key:"toNumber",value:function(){if(!Number.isFinite(this.mantissa))return Number.NaN;if(this.exponent.compareTo(o)>0)return this.mantissa>0?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY;if(this.exponent.compareTo(u)<0)return 0;if(0==this.exponent.compareTo(u))return this.mantissa>0?5e-324:-5e-324;var e=this.mantissa*l[parseInt(this.exponent.toString())+c];if(!Number.isFinite(e)||this.exponent.compareTo(r)<0)return e;var t=Math.round(e);return Math.abs(t-e)<1e-9?t:e}},{key:"mantissaWithDecimalPlaces",value:function(e){if(Number.isNaN(this.mantissa))return Number.NaN;if(0==this.mantissa)return 0;var t=e+1,n=Math.ceil(Math.log10(Math.abs(this.mantissa))),r=Math.round(this.mantissa*Math.pow(10,t-n))*Math.pow(10,n-t);return parseFloat(r.toFixed(Math.max(t-n,0)))}},{key:"toString",value:function(){return Number.isNaN(this.mantissa)?"NaN":this.exponent.compareTo(a)>=0?this.mantissa>0?"Infinity":"-Infinity":this.exponent.compareTo(s)<=0||0==this.mantissa?"0":this.exponent.compareTo(BigInteger.parseInt("21"))<0&&this.exponent.compareTo(BigInteger.parseInt("-7"))>0?this.toNumber().toString():this.mantissa+"e"+(this.exponent.compareTo(r)>=0?"+":"")+this.exponent.toString()}},{key:"toExponential",value:function(e){if(Number.isNaN(this.mantissa))return"NaN";if(this.exponent.compareTo(a)>=0)return this.mantissa>0?"Infinity":"-Infinity";if(this.exponent.compareTo(s)<=0||0==this.mantissa)return"0";if(this.exponent.compareTo(u)>0&&this.exponent.compareTo(o)<0)return this.toNumber().toExponential(e);Number.isFinite(e)||(e=t);var n=e+1,i=Math.ceil(Math.log10(Math.abs(this.mantissa))),f=Math.round(this.mantissa*Math.pow(10,n-i))*Math.pow(10,i-n);return f.toFixed(Math.max(n-i,0))+"e"+(this.exponent.compareTo(r)>=0?"+":"")+this.exponent.toString()}},{key:"toFixed",value:function(e){return Number.isNaN(this.mantissa)?"NaN":this.exponent.compareTo(a)>=0?this.mantissa>0?"Infinity":"-Infinity":this.exponent.compareTo(s)<=0||0==this.mantissa?"0":this.exponent.compareTo(f)>=0?this.mantissa.toString().replace(".","").padEnd(this.exponent.add(i).toString(),"0")+(e>0?".".padEnd(e+1,"0"):""):this.toNumber().toFixed(e)}},{key:"valueOf",value:function(){return this.toString()}},{key:"toJSON",value:function(){return this.toString()}},{key:"toStringWithDecimalPlaces",value:function(e){return this.toExponential(e)}},{key:"abs",value:function(){return e.fromMantissaExponent(Math.abs(this.mantissa),this.exponent)}},{key:"neg",value:function(){return e.fromMantissaExponent(-this.mantissa,this.exponent)}},{key:"negate",value:function(){return this.neg()}},{key:"negated",value:function(){return this.neg()}},{key:"sign",value:function(){return Math.sign(this.mantissa)}},{key:"sgn",value:function(){return this.sign()}},{key:"round",value:function(){return this.exponent.compareTo(r)<0?new e(0):this.exponent.compareTo(f)<0?new e(Math.round(this.toNumber())):this}},{key:"floor",value:function(){return this.exponent.compareTo(r)<0?new e(Math.sign(this.mantissa)>=0?0:-1):this.exponent.compareTo(f)<0?new e(Math.floor(this.toNumber())):this}},{key:"ceil",value:function(){return this.exponent.compareTo(r)<0?new e(Math.sign(this.mantissa)>0?1:0):this.exponent.compareTo(f)<0?new e(Math.ceil(this.toNumber())):this}},{key:"trunc",value:function(){return this.exponent.compareTo(r)<0?new e(0):this.exponent.compareTo(f)<0?new e(Math.trunc(this.toNumber())):this}},{key:"add",value:function(t){if(t=e.fromValue(t),0==this.mantissa)return t;if(0==t.mantissa)return this;var n,r;return this.exponent.compareTo(t.exponent)>=0?(n=this,r=t):(n=t,r=this),n.exponent.subtract(r.exponent).compareTo(f)>0?n:e.fromMantissaExponent(n.mantissa+r.mantissa*l[parseInt(r.exponent.subtract(n.exponent).toString())+c],n.exponent)}},{key:"plus",value:function(e){return this.add(e)}},{key:"sub",value:function(t){return t=e.fromValue(t),this.add(e.fromMantissaExponent(-t.mantissa,t.exponent))}},{key:"subtract",value:function(e){return this.sub(e)}},{key:"minus",value:function(e){return this.sub(e)}},{key:"mul",value:function(t){return t=e.fromValue(t),e.fromMantissaExponent(this.mantissa*t.mantissa,this.exponent.add(t.exponent));
}},{key:"multiply",value:function(e){return this.mul(e)}},{key:"times",value:function(e){return this.mul(e)}},{key:"div",value:function(t){return t=e.fromValue(t),this.mul(t.recip())}},{key:"divide",value:function(e){return this.div(e)}},{key:"divideBy",value:function(e){return this.div(e)}},{key:"dividedBy",value:function(e){return this.div(e)}},{key:"recip",value:function(){return e.fromMantissaExponent(1/this.mantissa,this.exponent.negate())}},{key:"reciprocal",value:function(){return this.recip()}},{key:"reciprocate",value:function(){return this.recip()}},{key:"cmp",value:function(t){if(t=e.fromValue(t),0==this.mantissa){if(0==t.mantissa)return 0;if(t.mantissa<0)return 1;if(t.mantissa>0)return-1}else if(0==t.mantissa){if(this.mantissa<0)return-1;if(this.mantissa>0)return 1}return this.mantissa>0?t.mantissa<0?1:this.exponent.compareTo(t.exponent)>0?1:this.exponent.compareTo(t.exponent)<0?-1:this.mantissa>t.mantissa?1:this.mantissa<t.mantissa?-1:0:this.mantissa<0?t.mantissa>0?-1:this.exponent.compareTo(t.exponent)>0?-1:this.exponent.compareTo(t.exponent)<0?1:this.mantissa>t.mantissa?1:this.mantissa<t.mantissa?-1:0:void 0}},{key:"compare",value:function(e){return this.cmp(e)}},{key:"eq",value:function(t){return t=e.fromValue(t),0==this.cmp(t)}},{key:"equals",value:function(e){return this.eq(e)}},{key:"neq",value:function(t){return t=e.fromValue(t),0!=this.cmp(t)}},{key:"notEquals",value:function(e){return this.neq(e)}},{key:"lt",value:function(t){return t=e.fromValue(t),this.cmp(t)<0}},{key:"lte",value:function(t){return t=e.fromValue(t),this.cmp(t)<=0}},{key:"gt",value:function(t){return t=e.fromValue(t),this.cmp(t)>0}},{key:"gte",value:function(t){return t=e.fromValue(t),this.cmp(t)>=0}},{key:"max",value:function(t){t=e.fromValue(t);var n=this.cmp(t);return n>=0?this:t}},{key:"min",value:function(t){t=e.fromValue(t);var n=this.cmp(t);return 0>=n?this:t}},{key:"cmp_tolerance",value:function(t,n){return t=e.fromValue(t),this.eq_tolerance(t,n)?0:this.cmp(t)}},{key:"compare_tolerance",value:function(e,t){return this.cmp_tolerance(e,t)}},{key:"eq_tolerance",value:function(t,n){return t=e.fromValue(t),e.lte(this.sub(t).abs(),e.max(this.abs(),t.abs()).mul(n))}},{key:"equals_tolerance",value:function(e,t){return this.eq_tolerance(e,t)}},{key:"neq_tolerance",value:function(t,n){return t=e.fromValue(t),!this.eq_tolerance(t,n)}},{key:"notEquals_tolerance",value:function(e,t){return this.neq_tolerance(e,t)}},{key:"lt_tolerance",value:function(t,n){return t=e.fromValue(t),this.eq_tolerance(t,n)?!1:this.lt(t)}},{key:"lte_tolerance",value:function(t,n){return t=e.fromValue(t),this.eq_tolerance(t,n)?!0:this.lt(t)}},{key:"gt_tolerance",value:function(t,n){return t=e.fromValue(t),this.eq_tolerance(t,n)?!1:this.gt(t)}},{key:"gte_tolerance",value:function(t,n){return t=e.fromValue(t),this.eq_tolerance(t,n)?!0:this.gt(t)}},{key:"log10",value:function(){return parseInt(this.exponent.toString())+Math.log10(this.mantissa)}},{key:"log",value:function(e){return Math.LN10/Math.log(e)*this.log10()}},{key:"log2",value:function(){return 3.321928094887362*this.log10()}},{key:"ln",value:function(){return 2.302585092994046*this.log10()}},{key:"logarithm",value:function(e){return this.log(e)}},{key:"pow",value:function(t){if(t instanceof e&&(t=t.toNumber()),Number.isSafeInteger(t)){var n=Math.pow(this.mantissa,t);if(Number.isFinite(n))return e.fromMantissaExponent(n,this.exponent.multiply(e.toBigInteger(t)))}return e.exp(t*this.ln())}},{key:"pow_base",value:function(t){return t=e.fromValue(t),t.pow(this)}},{key:"exp",value:function h(){var n=this.toNumber();if(n>-706&&709>n)return e.fromNumber(Math.exp(n));var r,h,i;return ExpHelper.precision=t+parseInt(this.exponent.toString()),r=new ExpHelper(this.toNumber()),h=0,i=parseInt(this.exponent.toString()),i>=0&&(h=r.div(ExpHelper.LN10).trunc(),n=h.mul(ExpHelper.LN10),r=r.sub(n).toNumber(),r>=Math.LN10&&(h=h.add(1),r-=Math.LN10)),0>r&&(h=h.sub(1),r+=Math.LN10),r=Math.exp(r),h.eq(0)||(i=e.toBigInteger(h.floor().toFixed()),r=e.fromMantissaExponent(r,i)),r}},{key:"sqr",value:function(){return this.pow(2)}},{key:"sqrt",value:function(){return this.pow(.5)}},{key:"cube",value:function(){return this.pow(3)}},{key:"cbrt",value:function(){return this.pow(1/3)}},{key:"ascensionPenalty",value:function(e){return 0==e?this:this.pow(Math.pow(10,-e))}},{key:"egg",value:function(){return this.add(9)}},{key:"m",get:function(){return this.mantissa},set:function(e){this.mantissa=e}},{key:"e",get:function(){return this.exponent},set:function(e){this.exponent=e}}],[{key:"fromMantissaExponent",value:function(t,n){return(new e).fromMantissaExponent(t,n)}},{key:"fromMantissaExponent_noNormalize",value:function(t,n){return(new e).fromMantissaExponent_noNormalize(t,n)}},{key:"fromDecimal",value:function(t){return(new e).fromDecimal(t)}},{key:"fromNumber",value:function(t){return(new e).fromNumber(t)}},{key:"fromString",value:function(t){return(new e).fromString(t)}},{key:"fromValue",value:function(t){return t instanceof e?t:new e(t)}},{key:"abs",value:function(t){return t=e.fromValue(t),t.abs()}},{key:"neg",value:function(t){return t=e.fromValue(t),t.neg()}},{key:"negate",value:function(t){return t=e.fromValue(t),t.neg()}},{key:"negated",value:function(t){return t=e.fromValue(t),t.neg()}},{key:"sign",value:function(t){return t=e.fromValue(t),t.sign()}},{key:"sgn",value:function(t){return t=e.fromValue(t),t.sign()}},{key:"round",value:function(t){return t=e.fromValue(t),t.round()}},{key:"floor",value:function(t){return t=e.fromValue(t),t.floor()}},{key:"ceil",value:function(t){return t=e.fromValue(t),t.ceil()}},{key:"trunc",value:function(t){return t=e.fromValue(t),t.trunc()}},{key:"add",value:function(t,n){return t=e.fromValue(t),t.add(n)}},{key:"plus",value:function(t,n){return t=e.fromValue(t),t.add(n)}},{key:"sub",value:function(t,n){return t=e.fromValue(t),t.sub(n)}},{key:"subtract",value:function(t,n){return t=e.fromValue(t),t.sub(n)}},{key:"minus",value:function(t,n){return t=e.fromValue(t),t.sub(n)}},{key:"mul",value:function(t,n){return t=e.fromValue(t),t.mul(n)}},{key:"multiply",value:function(t,n){return t=e.fromValue(t),t.mul(n)}},{key:"times",value:function(t,n){return t=e.fromValue(t),t.mul(n)}},{key:"div",value:function(t,n){return t=e.fromValue(t),t.div(n)}},{key:"divide",value:function(t,n){return t=e.fromValue(t),t.div(n)}},{key:"recip",value:function(t){return t=e.fromValue(t),t.recip()}},{key:"reciprocal",value:function(t){return t=e.fromValue(t),t.recip()}},{key:"reciprocate",value:function(t){return t=e.fromValue(t),t.reciprocate()}},{key:"cmp",value:function(t,n){return t=e.fromValue(t),t.cmp(n)}},{key:"compare",value:function(t,n){return t=e.fromValue(t),t.cmp(n)}},{key:"eq",value:function(t,n){return t=e.fromValue(t),t.eq(n)}},{key:"equals",value:function(t,n){return t=e.fromValue(t),t.eq(n)}},{key:"neq",value:function(t,n){return t=e.fromValue(t),t.neq(n)}},{key:"notEquals",value:function(t,n){return t=e.fromValue(t),t.notEquals(n)}},{key:"lt",value:function(t,n){return t=e.fromValue(t),t.lt(n)}},{key:"lte",value:function(t,n){return t=e.fromValue(t),t.lte(n)}},{key:"gt",value:function(t,n){return t=e.fromValue(t),t.gt(n)}},{key:"gte",value:function(t,n){return t=e.fromValue(t),t.gte(n)}},{key:"max",value:function(t,n){return t=e.fromValue(t),t.max(n)}},{key:"min",value:function(t,n){return t=e.fromValue(t),t.min(n)}},{key:"cmp_tolerance",value:function(t,n,r){return t=e.fromValue(t),t.cmp_tolerance(n,r)}},{key:"compare_tolerance",value:function(t,n,r){return t=e.fromValue(t),t.cmp_tolerance(n,r)}},{key:"eq_tolerance",value:function(t,n,r){return t=e.fromValue(t),t.eq_tolerance(n,r)}},{key:"equals_tolerance",value:function(t,n,r){return t=e.fromValue(t),t.eq_tolerance(n,r)}},{key:"neq_tolerance",value:function(t,n,r){return t=e.fromValue(t),t.neq_tolerance(n,r)}},{key:"notEquals_tolerance",value:function(t,n,r){return t=e.fromValue(t),t.notEquals_tolerance(n,r)}},{key:"lt_tolerance",value:function(t,n,r){return t=e.fromValue(t),t.lt_tolerance(n,r)}},{key:"lte_tolerance",value:function(t,n,r){return t=e.fromValue(t),t.lte_tolerance(n,r)}},{key:"gt_tolerance",value:function(t,n,r){return t=e.fromValue(t),t.gt_tolerance(n,r)}},{key:"gte_tolerance",value:function(t,n,r){return t=e.fromValue(t),t.gte_tolerance(n,r)}},{key:"log10",value:function(t){return t=e.fromValue(t),t.log10()}},{key:"log",value:function(t,n){return t=e.fromValue(t),t.log(n)}},{key:"log2",value:function(t){return t=e.fromValue(t),t.log2()}},{key:"ln",value:function(t){return t=e.fromValue(t),t.ln()}},{key:"logarithm",value:function(t,n){return t=e.fromValue(t),t.logarithm(n)}},{key:"pow",value:function(t,n){return 10==t&&Number.isInteger(n)?e.fromMantissaExponent(1,n):(t=e.fromValue(t),t.pow(n))}},{key:"exp",value:function(t){return t=e.fromValue(t),t.exp()}},{key:"sqr",value:function(t){return t=e.fromValue(t),t.sqr()}},{key:"sqrt",value:function(t){return t=e.fromValue(t),t.sqrt()}},{key:"cube",value:function(t){return t=e.fromValue(t),t.cube()}},{key:"cbrt",value:function(t){return t=e.fromValue(t),t.cbrt()}},{key:"affordGeometricSeries",value:function(t,n,r,i){t=e.fromValue(t),n=e.fromValue(n),r=e.fromValue(r);var o=n.mul(e.pow(r,i));return e.floor(e.log10(t.div(o).mul(r.sub(1)).add(1))/e.log10(r))}},{key:"sumGeometricSeries",value:function(t,n,r,i){n=e.fromValue(n),r=e.fromValue(r);var o=n.mul(e.pow(r,i));return o.mul(e.sub(1,e.pow(r,t))).div(e.sub(1,r))}},{key:"affordArithmeticSeries",value:function(t,n,r,i){t=e.fromValue(t),n=e.fromValue(n),r=e.fromValue(r),i=e.fromValue(i);var o=n.add(e.mul(i,r)),u=o.sub(r.div(2)),a=u.pow(2);return e.floor(u.neg().add(e.sqrt(a.add(e.mul(r,t).mul(2)))).div(r))}},{key:"sumArithmeticSeries",value:function(t,n,r,i){t=e.fromValue(t),n=e.fromValue(n),r=e.fromValue(r),i=e.fromValue(i);var o=n.add(e.mul(i,r));return e.div(t,2).mul(e.mul(2,o).plus(t.sub(1).mul(r)))}},{key:"efficiencyOfPurchase",value:function(t,n,r){return t=e.fromValue(t),n=e.fromValue(n),r=e.fromValue(r),e.add(t.div(n),t.div(r))}},{key:"randomDecimalForTesting",value:function(t){if(20*Math.random()<1)return e.fromMantissaExponent(0,0);var n=10*Math.random();n*=Math.sign(2*Math.random()-1);var r=Math.floor(Math.random()*t*2)-t;return e.fromMantissaExponent(n,r)}}]),e}();if("function"==typeof define&&define.amd)define(function(){return h});else if("undefined"!=typeof module&&module.exports)module.exports=h;else{e||(e="undefined"!=typeof self&&self&&self.self==self?self:Function("return this")());var m=e.Decimal;h.noConflict=function(){return e.Decimal=m,h},e.Decimal=h}}(void 0);


let game = {
  costs: [new Decimal(1)],
  amounts: [new Decimal(0)],
  depression: new Decimal(1),
  prestige: [1]
}



function formatValue(x, places) {
  if (x instanceof Decimal) {
    if (x.lt(1000)) return x.toFixed(0);
    else return (x.m.toFixed(places) + "e" + x.e)
  }
  const power = Math.floor(Math.log10(x))
  const matissa = x / Math.pow(10, power)
  if (x < 1000) return x.toFixed(0)
  else return ((matissa).toFixed(places) + "e" + power)
}


function insertAfter(newElement,targetElement) {
    // target is what you want it to go after. Look for this elements parent.
    const parent = targetElement.parentNode;

    // if the parents lastchild is the targetElement...
    if (parent.lastChild == targetElement) {
        // add the newElement after the target element.
        parent.appendChild(newElement);
    } else {
        // else the target has siblings, insert the new element between the target and it's next sibling.
        parent.insertBefore(newElement, targetElement.nextSibling);
    }
}



function buyStuff(id) {
  const elem = document.getElementById(id)
  var i = id-1
  
  if (game.depression >= game.costs[i]) {
    const next = document.getElementById(id+1)
    if (next == null) {
    const btn = document.createElement("button")
    const br = document.createElement("br")
    btn.innerHTML = "Amount: 0<br>Cost:"+formatValue(game.costs[i].times(100), 2)
    btn.id = id+1
    btn.className = "btn"
    btn.onclick = function() {buyStuff(id+1);}
    insertAfter(br, elem)
    insertAfter(btn, br)
    game.costs.push(game.costs[i].times(100))
    game.amounts.push(new Decimal(0))
    if (game.prestige[id] === undefined) game.prestige[id] = 1
    
    if (id > 5) {
      const pbtn = document.createElement("button")
      const otherbtn = document.getElementById(id-5)
      pbtn.id = id-5+"prestige"
      pbtn.className = "prestigebtn"
      pbtn.onclick = function() {prestige(parseInt(this.id));}
      insertAfter(pbtn, otherbtn)
      for (var i=1; i<game.costs.length-5; i++) document.getElementById(i+"prestige").innerHTML = "Reset to increase bonus to "+Math.max(game.costs.length-id-5, game.prestige[id-1])+"x boost."
    }
    

    
  }
  game.amounts[i] = game.amounts[i].plus(1).max(game.amounts[i].times(1.05).min(game.amounts[id].times(10000)))
  game.depression = game.depression.minus(game.costs[i])
  game.costs[i] = game.costs[i].times(2)
  }
}


function hardreset() {
  game = {
    costs: [new Decimal(1)],
    amounts: [new Decimal(0)],
    depression: new Decimal(1),
    prestige: [1]
  }
}


function prestige(id) {
  console.log(id)
  game.prestige[id-1] = Math.max(game.costs.length-id-5, game.prestige[id-1])
  for (var i=2; i<=game.costs.length; i++) {
    var btn = document.getElementById(i)
    btn.parentNode.removeChild(btn)
  }
  var prestiges = document.getElementsByClassName("prestigebtn")
  while(prestiges[0]) prestiges[0].parentNode.removeChild(prestiges[0])
  const brs = document.getElementsByTagName("br")
  while(brs[0]) brs[0].parentNode.removeChild(brs[0])
  game = {
    costs: [new Decimal(1)],
    amounts: [new Decimal(0)],
    depression: new Decimal(1),
    prestige: game.prestige
  }
  for (var i=1; i<game.costs.length-5; i++) document.getElementById(i+"prestige").innerHTML = "Reset to increase bonus to "+Math.max(game.costs.length-id-5, game.prestige[id-1])+"x boost."
}


function save() {
  localStorage.setItem("funsave",JSON.stringify(game));
}

function load() {
  var save = JSON.parse(localStorage.getItem("funsave"))
  if (save) game = save
  var elem = document.getElementById("1")
  for (var i=1; i<game.costs.length; i++) {
    var btn = document.createElement("button")
    var br = document.createElement("br")
    btn.innerHTML = "Amount: 0<br>Cost:"+formatValue(game.costs[i])
    btn.id = i+1
    btn.className = "btn"
    btn.onclick = function() {buyStuff(parseInt(this.id));}
    insertAfter(br, elem)
    insertAfter(btn, br)
    elem = btn
  }
  for (var i=1; i<game.costs.length-5; i++) {
    var pbtn = document.createElement("button")
    var otherbtn = document.getElementById(i)
    pbtn.innerHTML = "Reset to increase bonus to "+Math.max(game.costs.length-id-5, game.prestige[id-1])+"x boost."
    pbtn.id = i+"prestige"
    pbtn.className = "prestigebtn"
    pbtn.onclick = function() {prestige(parseInt(this.id));}
    insertAfter(pbtn, otherbtn)
  }
}



var cheat = false;


setInterval(function() {
  game.depression += game.amounts[0]*game.prestige[0]/33
  document.getElementById("1").innerHTML = "Amount: "+formatValue(game.amounts[0], 2)+"<br>Power: "+formatValue(game.prestige[0], 2)+"x<br>Cost:"+formatValue(game.costs[0], 2)
  for (var i=2; i <= game.costs.length; i++) {
    document.getElementById(i).innerHTML = "Amount: "+formatValue(game.amounts[i-1], 2)+"<br>Power: "+formatValue(game.prestige[i-1], 2)+"x<br>Cost:"+formatValue(game.costs[i-1], 2)
    game.amounts[i-2] = game.amounts[i-2].plus(game.amounts[i-1].times(game.prestige[i-1]/33))
  }
  
  if (cheat) {
  if (game.amounts[game.amounts.length-2] < 5) document.getElementById(game.amounts.length-1).click()
  document.getElementById(game.amounts.length).click()}
  
  document.getElementById("amount").innerHTML = formatValue(game.depression, 2)
}, 33)


setInterval(function() { save() }, 10000)



load()
